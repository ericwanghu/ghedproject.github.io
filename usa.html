<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Zoom In: USA</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">GHED Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="analysis.html">Global Analysis</a>
</li>
<li>
  <a href="usa.html">Zoom In: USA</a>
</li>
<li>
  <a href="stats.html">Statistical Analysis</a>
</li>
<li>
  <a href="dashboard.html">Dashboard</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="report.html">Report</a>
</li>
<li>
  <a href="about.html">About Us</a>
</li>
<li>
  <a href="https://github.com/ericwanghu/ghedproject.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Zoom In: USA</h1>

</div>


<pre class="r"><code>ghed_df &lt;- 
  read_excel(&quot;data/GHED_data.XLSX&quot;) %&gt;% 
  janitor::clean_names()

us_df &lt;- read_csv(&quot;data/us_health.csv&quot;, skip = 2, n_max = 52) %&gt;% 
  janitor::clean_names() %&gt;% 
  mutate(
      r01_total_revenue = as.numeric(r01_total_revenue),
      state = tolower(state),
      `% of total expenditure` = 
        (e055_health_direct_expend / e001_total_expenditure) * 100
    )

us_states &lt;- map_data(&quot;state&quot;)</code></pre>
<div id="united-states-health-spending" class="section level3">
<h3>United States Health Spending</h3>
<p>The plots below show patterns in health care spending in the USA over time and in specific states.</p>
<pre class="r"><code>exp_per_cap&lt;- ghed_df%&gt;%
  filter(country == &quot;United States of America&quot;)%&gt;%
  select(country, year, gghed_pc_usd, pvtd_pc_usd)%&gt;%
  pivot_longer(cols = contains(&quot;pc_usd&quot;),
               names_to = &quot;exp_type&quot;, 
               values_to = &quot;exp_per_cap&quot;)%&gt;%
  mutate(exp_type = replace(exp_type, exp_type == &quot;gghed_pc_usd&quot;, &quot;Government Expenditure per Capita (USD)&quot;),
           exp_type = replace(exp_type, exp_type == &quot;pvtd_pc_usd&quot;, &quot;Private Expenditure per Capita (USD)&quot;))%&gt;%
  plot_ly(x =~year, y=~exp_per_cap, name=~exp_type, color = ~exp_type, colors=&quot;viridis&quot;, type=&#39;scatter&#39;, mode=&#39;lines+markers&#39;, showlegend = F)%&gt;%
    layout( yaxis = list(title = &#39;Expenditure per Capita (USD)&#39;), xaxis = list(title = &quot;Year&quot;))

exp_per&lt;-ghed_df%&gt;%
  filter(country==&quot;United States of America&quot;)%&gt;%
  select(country, year, gghed_che, pvtd_che)%&gt;%
  mutate(sum_per = gghed_che + pvtd_che)%&gt;%
  pivot_longer(cols = contains(&quot;che&quot;),
               names_to = &quot;exp_type&quot;,
               values_to = &quot;exp_per&quot;)%&gt;%
  mutate(exp_type = replace(exp_type, exp_type == &quot;gghed_che&quot;, &quot;Government Expenditure&quot;),
           exp_type = replace(exp_type, exp_type == &quot;pvtd_che&quot;, &quot;Private Expenditure&quot;))%&gt;%
  plot_ly(x =~year, y=~exp_per, name=~exp_type, color = ~exp_type, colors=&quot;viridis&quot;, type=&#39;scatter&#39;, mode=&#39;lines+markers&#39;)%&gt;%
    layout(yaxis = list(title = &#39;Percent of Total Expenditure&#39;), xaxis = list(title = &quot;Year&quot;))

fig &lt;- subplot(exp_per_cap, exp_per,nrows = 2, titleY = TRUE, titleX = TRUE, shareY = FALSE) %&gt;% 
  layout(title = &#39;Health Expenditure in the USA Over Time&#39;)
fig</code></pre>
<div id="htmlwidget-460d330ec63957fe5191" style="width:90%;height:691.2px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-460d330ec63957fe5191">{"x":{"data":[{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[2017.00345637,2219.07243004,2406.65111255,2578.606216,2761.53481905,2929.73292438,3159.01278784,3328.42807178,3515.59985961,3714.85141545,3854.49548183,3954.62862548,4074.73127937,4215.40378442,4531.41727301,4804.29225078,4965.9381477,5117.23641872,5338.81790143,5552.60023012],"mode":"lines+markers","showlegend":false,"name":"Government Expenditure per Capita (USD)","type":"scatter","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"line":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[2526.43277597,2675.20815399,2916.09103696,3153.62349544,3335.7528827,3524.67081228,3669.60318535,3853.46416983,3885.76957073,3942.70730514,4033.85605431,4125.58596682,4267.84860718,4306.72210671,4407.97918232,4587.77368905,4809.06192749,4985.85529598,5176.50535595,5368.412199],"mode":"lines+markers","showlegend":false,"name":"Private Expenditure per Capita (USD)","type":"scatter","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"line":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[44.39378738,45.34011459,45.21449661,44.9843483,45.29119873,45.39122772,46.26139069,46.34472275,47.49931717,48.51221466,48.86313248,48.94212341,48.84257889,49.46422958,50.69041824,51.15266418,50.80243301,50.6502037,50.77178955,50.84327316],"mode":"lines+markers","name":"Government Expenditure","type":"scatter","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"line":{"color":"rgba(68,1,84,1)"},"xaxis":"x2","yaxis":"y2","frame":null},{"x":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019],"y":[55.6062088,54.65988541,54.78550339,55.0156517,54.70879745,54.60877228,53.7386055,53.65527725,52.50068283,51.48778534,51.13686752,51.05787659,51.15742111,50.53577423,49.30958557,48.847332,49.19756317,49.3497963,49.22821045,49.15672684],"mode":"lines+markers","name":"Private Expenditure","type":"scatter","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"line":{"color":"rgba(253,231,37,1)"},"xaxis":"x2","yaxis":"y2","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"title":"Year","anchor":"y"},"xaxis2":{"domain":[0,1],"automargin":true,"title":"Year","anchor":"y2"},"yaxis2":{"domain":[0,0.48],"automargin":true,"title":"Percent of Total Expenditure","anchor":"x2"},"yaxis":{"domain":[0.52,1],"automargin":true,"title":"Expenditure per Capita (USD)","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true,"title":"Health Expenditure in the USA Over Time"},"attrs":{"2b341ad36624":{"x":{},"y":{},"mode":"lines+markers","showlegend":false,"name":{},"color":{},"colors":"viridis","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"2b34317934c1":{"x":{},"y":{},"mode":"lines+markers","name":{},"color":{},"colors":"viridis","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>These plots visualize health spending the U.S. from 2000-2019 in two different ways: in per capita USD and in % of total spending. The graph on the top highlights how the cost of health per person has increased each year for the last two decades. The graph below shows how government spending on health gradually overtook private spending around 2013.</p>
<pre class="r"><code>us_states %&gt;% 
  left_join(us_df, by = c(&quot;region&quot; = &quot;state&quot;)) %&gt;% 
  ggplot(aes(x = long, y = lat, group = group, fill = `% of total expenditure`)) +
  geom_polygon(color = &quot;gray90&quot;, size = 0.1) +
  coord_map(projection = &quot;albers&quot;, lat0 = 45, lat1 = 55) +
  theme(legend.position=&quot;bottom&quot;,
        axis.line=element_blank(),
        axis.text=element_blank(),
        axis.ticks=element_blank(),
        axis.title=element_blank(),
        panel.background=element_blank(),
        panel.border=element_blank(),
        panel.grid=element_blank()
        ) +
  labs(
    title = &quot;% of Total Expenditure Put Towards Health in 2019&quot;
  )</code></pre>
<p><img src="usa_files/figure-html/unnamed-chunk-3-1.png" width="90%" /></p>
<p>We can see here that the states that put the most of their state and local spending towards health are Vermont, California, and Washington state. The states that contribute the least of their expenditure towards health are Arkansas, Iowa, and New Hampshire. It’s interesting to see how spending varies so widely with regions. Take the drastic difference between New Hampshire and Vermont as an example. They are neighbors, but their health expenditure is very different.</p>
<br>
<center>
<p>Click here to return to the <a href="index.html">main</a> page.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
